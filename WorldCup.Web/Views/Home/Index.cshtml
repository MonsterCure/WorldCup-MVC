@{
    ViewBag.Title = "Home Page";
}

@*<div class="carousel slide" data-ride="carousel">
        <div id="home-page-carousel" class="carousel-inner">

        </div>
        <a class="carousel-control-prev" href="#home-page-carousel" role="button" data-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="sr-only">Previous</span>
        </a>
        <a class="carousel-control-next" href="#home-page-carousel" role="button" data-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="sr-only">Next</span>
        </a>
    </div>
    <p>Powered by: <a href="https://newsapi.org">NewsAPI.org</a></p>*@

<div class="jumbotron">
    <img id="logo-jumbotron" src="https://upload.wikimedia.org/wikipedia/en/thumb/6/67/2018_FIFA_World_Cup.svg/1200px-2018_FIFA_World_Cup.svg.png" alt="Logo" />
    <h1 class="logo-title">2018 World Cup</h1>
    <hr />
    <p class="lead">The 2018 FIFA World Cup is the 21st FIFA World Cup, a quadrennial international football tournament contested by the men's national teams of the member associations of FIFA.</p>
</div>

<div class="row">
    <div class="col-md-4">
        <h2 class="text-primary">Teams</h2>
        <hr />
        <p>
            For the first time in the history of the FIFA World Cup, all eligible nations – the 209 FIFA member associations minus automatically qualified hosts Russia – applied to enter the qualifying process. Of the 32 nations qualified to play at the 2018 FIFA World Cup, 20 countries competed at the previous tournament in 2014.
        </p>
        <p>@Html.ActionLink("More", "Index", "Teams", new { area = "" }, new { @class = "btn btn-outline-primary btn-lg" })</p>
    </div>
    <div class="col-md-4">
        <h2 class="text-primary">Matches</h2>
        <hr />
        <p>Competing countries are divided into eight groups of four teams (groups A to H). Teams in each group play one another on a round-robin basis, with the top two teams of each group advancing to the knockout stage.</p>
        <p>@Html.ActionLink("More", "Index", "Matches", new { area = "" }, new { @class = "btn btn-outline-primary btn-lg" })</p>
    </div>
    <div class="col-md-4">
        <h2 class="text-primary">Players</h2>
        <hr />
        <p>The 2018 FIFA World Cup is an international football tournament being held in Russia from 14 June to 15 July 2018. The 32 national teams involved in the tournament were required to register a squad of 23 players, including three goalkeepers. Only players in these squads are eligible to take part in the tournament.</p>
        <p>@Html.ActionLink("More", "Index", "Players", new { area = "" }, new { @class = "btn btn-outline-primary btn-lg" })</p>
    </div>
</div>

@*@section Scripts{
       <script type="text/javascript" language="javascript">
            function NewsItem(title, url, image, description) {
                this.title = title;
                this.url = url;
                this.image_link = image;
                this.description = description;
            }

            function fillDiv(newsItem) {
                $('#home-page-carousel').append(
                    '<div class="carousel-item active">' +
                    '<img  class="d-block w-100" src="' + newsItem.image_link + '">' +
                    '<<div class="carousel-caption d-none d-md-block"><h5><a href="' + newsItem.url +'">' + newsItem.title + '</h5>' +
                    '<p>' + newsItem.description + '<p></div>' +
                    '</div>');
            }

            function newsSearch() {
                $('#home-page-carousel').empty();

                //let url = 'https://newsapi.org/v2/top-headlines?sources=bbc-sport&apiKey=c2717bdd58a74726a72ad2d437e98909';
                //let req = new Request(url);
                //fetch(req)
                //    .then(function (response) {
                //        let result = response.json();
                //        console.log(response.json());
                //        if (result.articles.length == 0) {
                //            $('#home-page-carousel').html('<h3>Currently there are no news results.</h3>');
                //        }
                //        for (let i = 0; i <= result.articles.length; i++) {
                //            let resultItem = result.articles[i];
                //            let newsItem = new NewsItem(resultItem.title, resultItem.url, resultItem.urlToImage, resultItem.description);
                //            fillDiv(newsItem);

                //            console.log('result iterator');
                //        }
                //    });

                $.ajax({
                    type: 'GET',
                    url: '"https://newsapi.org/v2/top-headlines?sources=' + 'bbc-sport' + '&apiKey=' +'c2717bdd58a74726a72ad2d437e98909',
                    data: {
                    },
                    success: function (data) {
                        console.log(data);
                        if (data.articles.length == 0) {
                            $('#home-page-carousel').html('<h3>Currently there are no news results.</h3>');
                        }
                        for (let i = 0; i <= data.articles.length; i++) {
                            let resultItem = data.articles[i];
                            let newsItem = new NewsItem(resultItem.title, resultItem.url, resultItem.urlToImage, resultItem.description);
                            fillDiv(newsItem);

                            console.log('result iterator');
                        }
                    },
                    error: function (error) {
                        console.log(error);
                    }
                });
            }
            newsSearch();
        </script>
    }*@